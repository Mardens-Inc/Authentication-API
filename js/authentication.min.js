/* Author: Drew Chase */
export default class Authentication{constructor(t=!1){this.apiUrl=t?"http://auth.local/":"https://auth.mardens.com/"}async login(t,a){return await $.ajax({url:this.apiUrl,method:"POST",dataType:"json",data:{username:t,password:a},success:t=>t,error:t=>!1})}async loginWithToken(t){return await $.ajax({url:this.apiUrl,method:"POST",dataType:"json",headers:{Authorization:t},success:t=>t,error:t=>!1})}async loginWithTokenFromCookie(){const t=document.cookie.filter(t=>t.includes("token"));return 0!==t.length&&await this.loginWithToken(t)}}